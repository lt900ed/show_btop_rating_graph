# これ何
機動戦士ガンダムバトルオペレーション2のレーティングマッチの結果を表示するhtmlです。
dataフォルダ内のtsvを手動更新するとグラフが自動更新されます。
OBS等の配信ソフトのブラウザソースに指定することを想定しています。

# 含まれているもの
## graph_ground.html
地上レートの推移を表示します。`rating_log_ground.tsv`の内容が反映されます。
グラフは"その日"の推移のみを表示します。"その日の試合"の特定は、TSVの三列目の情報に基づいています。

## graph_space.html
宇宙レートの推移を表示します。`rating_log_space.tsv`の内容が反映されます。
グラフの仕様は`graph_ground.html`同様です。

## data/rating_log_ground.tsv
地上レートの推移を記録します。UTF-8 BOMなし CrLf改行で入力する必要があります。
戦闘終了時に、以下の情報をタブで区切って入力します。
一列目：現在時刻(ぶっちゃけロジックの中で見てないのでフォーマットは何でも可)
二列目：戦闘終了後のレート
三列目：その日の最後の戦闘なら1、それ以外の戦闘なら0を半角で入力

基本的にWindowsのメモ帳で入力することを想定しています。現在時刻はF5で入力できます。

## data/rating_log_space.tsv
宇宙レートの推移を記録します。仕様は`data/rating_log_ground.tsv`同様です。

# 使い方
1. data/rating_log_ground.tsv(rating_log_space.tsv)に現在の時刻、現在のレート、1を入力する
↓みたいな状態になってるとおけ、最後に空行が入っていてもいなくても可。
```
datetime	score	is_last
03:59 2021/05/04	2603	1
```

2. 配信ソフトでgraph_ground.html(graph_space.html)をソースとしたブラウザソースを配置する
幅高さは480x270くらいを推奨。カスタムCSSは空欄にして下さい。

3. グラフが表示されることを確認する
再読み込みの5秒後に最初のグラフが表示されるはずです。

4. 戦闘が終わるたびTSVに結果を入力する
5秒間隔でTSVの更新を確認します。

#バージョン
v1.0

# 作者
@lt900ed